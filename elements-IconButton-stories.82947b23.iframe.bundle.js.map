{"version":3,"file":"elements-IconButton-stories.82947b23.iframe.bundle.js","mappings":";AAGA;;;;;;;;;;ACIA;;;AAGA;;;;;;;;AAQA;AACA;;;;;;;;;;AChBA;;;;;;ACoBA;;;;;AAOA;;;;AC4FA;;;;AAKA","sources":["webpack://@mtes-mct/monitor-ui__root/./.storybook/components/Showcase/Subtitle.tsx","webpack://@mtes-mct/monitor-ui__root/./.storybook/components/Showcase/Table.tsx","webpack://@mtes-mct/monitor-ui__root/./.storybook/components/Showcase/Title.tsx","webpack://@mtes-mct/monitor-ui__root/./.storybook/components/Showcase/index.tsx","webpack://@mtes-mct/monitor-ui__root/./.storybook/components/StoryDecorator.tsx"],"sourcesContent":["import styled from 'styled-components'\n\nexport const Subtitle = styled.h3`\n  color: ${p => p.theme.color.gunMetal};\n  font-size: 13px;\n  font-weight: bold;\n  margin: 0;\n  text-transform: uppercase;\n`\n","import styled from 'styled-components'\n\nexport const Table = styled.table`\n  font-size: 13px;\n\n  > thead > tr {\n    > td {\n      border-right: solid 1px ${p => p.theme.color.lightGray};\n    }\n    > th {\n      color: ${p => p.theme.color.gunMetal};\n      font-weight: 500;\n      padding: 0 28px 0 28px;\n      text-align: left;\n    }\n  }\n  > tbody > tr {\n    > th {\n      border-right: solid 1px ${p => p.theme.color.lightGray};\n      color: ${p => p.theme.color.slateGray};\n      font-weight: 400;\n      padding: 12px 28px 0 0;\n      text-align: left;\n    }\n    > td {\n      padding: 12px 28px 0 28px;\n    }\n  }\n`\n","import styled from 'styled-components'\n\nexport const Title = styled.h2`\n  color: ${p => p.theme.color.gunMetal};\n  font-size: 22px;\n  font-weight: bold;\n  margin: 0;\n`\n","import styled from 'styled-components'\n\nimport { Subtitle } from './Subtitle'\nimport { Table } from './Table'\nimport { Title } from './Title'\n\nimport type { HTMLAttributes } from 'react'\n\nexport type RawShowcaseProps = HTMLAttributes<HTMLDivElement>\nfunction RawShowcase(nativeProps: RawShowcaseProps) {\n  return (\n    <>\n      <Line />\n      <Title>Showcase</Title>\n      <Box {...nativeProps} />\n    </>\n  )\n}\n\nconst Line = styled.hr`\n  margin: 20px 0 0;\n`\n\nconst Box = styled.div`\n  > h2:not(:first-child),\n  > h3:not(:first-child) {\n    margin-top: 32px;\n  }\n`\n\nexport const Showcase = Object.assign(RawShowcase, {\n  Subtitle,\n  Table\n})\n","import { forwardRef, useEffect, useImperativeHandle, useMemo, useState, useRef } from 'react'\nimport styled from 'styled-components'\n\nimport { GlobalDecoratorWrapper } from './GlobalDecorator'\nimport { Accent, Button, NewWindow, Size, THEME, useForceUpdate, useNewWindow, NewWindowContext } from '../../src'\n\nimport type { NewWindowContextValue } from '../../src'\nimport type { Story, StoryContext } from '@storybook/react'\nimport type { ForwardedRef, MutableRefObject } from 'react'\n\nexport function generateStoryDecorator({\n  fixedWidth,\n  hasDarkMode = false,\n  withNewWindowButton = false\n}: {\n  fixedWidth?: number\n  hasDarkMode?: boolean\n  withNewWindowButton?: boolean\n} = {}) {\n  return function StoryDecorator(Story: Story, { args }: StoryContext) {\n    const newWindowRef = useRef() as MutableRefObject<HTMLDivElement>\n\n    const [isNewWindowOpen, setIsNewWindowOpen] = useState(false)\n\n    const style = useMemo(\n      () => ({\n        ...(fixedWidth\n          ? {\n              width: `${fixedWidth}px`\n            }\n          : {}),\n        ...(hasDarkMode\n          ? {\n              backgroundColor: args.isLight ? THEME.color.gainsboro : THEME.color.white\n            }\n          : {})\n      }),\n      [args.isLight]\n    )\n\n    const { forceUpdate } = useForceUpdate()\n\n    useEffect(() => {\n      forceUpdate()\n    }, [forceUpdate])\n\n    return (\n      <>\n        {withNewWindowButton && (\n          <NewWindowButtonBox>\n            <Button accent={Accent.SECONDARY} onClick={() => setIsNewWindowOpen(true)} size={Size.SMALL}>\n              OPEN IN NEW WINDOW\n            </Button>\n          </NewWindowButtonBox>\n        )}\n\n        {!isNewWindowOpen && (\n          <StoryBox style={style}>\n            <Story />\n          </StoryBox>\n        )}\n\n        {withNewWindowButton && isNewWindowOpen && (\n          <NewWindow features={{ height: 600, width: 800 }} onUnload={() => setIsNewWindowOpen(false)}>\n            <NewWindowStoryWrapper ref={newWindowRef} Story={Story} />\n          </NewWindow>\n        )}\n      </>\n    )\n  }\n}\n\nfunction NewWindowStoryWrapperWithRef({ Story }: { Story: Story }, ref: ForwardedRef<HTMLDivElement | null>) {\n  // eslint-disable-next-line no-null/no-null\n  const wrapperRef = useRef<HTMLDivElement | null>(null)\n\n  const [isFirstRender, setIsFirstRender] = useState(true)\n\n  useImperativeHandle<HTMLDivElement | null, HTMLDivElement | null>(ref, () => wrapperRef.current)\n\n  const newWindowContextProviderValue: NewWindowContextValue = useMemo(\n    () => ({\n      newWindowContainerRef: wrapperRef.current\n        ? (wrapperRef as MutableRefObject<HTMLDivElement>)\n        : { current: window.document.createElement('div') }\n    }),\n\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    [isFirstRender]\n  )\n\n  useEffect(() => {\n    setIsFirstRender(false)\n  }, [])\n\n  return (\n    <NewWindowStoryBox ref={wrapperRef}>\n      {!isFirstRender && (\n        <NewWindowContext.Provider value={newWindowContextProviderValue}>\n          <GlobalDecoratorWrapper>\n            <NewWindowStory Story={Story} />\n          </GlobalDecoratorWrapper>\n        </NewWindowContext.Provider>\n      )}\n    </NewWindowStoryBox>\n  )\n}\n\nconst NewWindowStoryWrapper = forwardRef(NewWindowStoryWrapperWithRef)\n\nfunction NewWindowStory({ Story }: { Story: Story }) {\n  const { newWindowContainerRef } = useNewWindow()\n\n  return <Story args={{ baseContainer: newWindowContainerRef.current }} />\n}\n\nconst StoryBox = styled.div`\n  height: 100%;\n  padding: 16px;\n  width: 100%;\n`\n\nconst NewWindowButtonBox = styled.div`\n  position: fixed;\n  right: 16px;\n  top: 16px;\n`\nconst NewWindowStoryBox = styled.div`\n  height: 100%;\n  padding: 16px;\n  width: 100%;\n`\n"],"names":[],"sourceRoot":""}