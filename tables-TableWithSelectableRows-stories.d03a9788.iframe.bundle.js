"use strict";(self.webpackChunk_mtes_mct_monitor_ui_root=self.webpackChunk_mtes_mct_monitor_ui_root||[]).push([[2293],{"./.storybook/components/StoryDecorator.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{N:()=>generateStoryDecorator});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),styled_components__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/styled-components/dist/styled-components.browser.esm.js"),_GlobalDecorator__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./.storybook/components/GlobalDecorator.tsx"),_src__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/index.ts"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/react/jsx-runtime.js");function generateStoryDecorator({fixedWidth,hasDarkMode=!1,withNewWindowButton=!1}={}){return function StoryDecorator(Story,{args}){const newWindowRef=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(),[isNewWindowOpen,setIsNewWindowOpen]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(!1),style=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((()=>({...fixedWidth?{width:`${fixedWidth}px`}:{},...hasDarkMode?{backgroundColor:args.isLight?_src__WEBPACK_IMPORTED_MODULE_2__.C6.color.gainsboro:_src__WEBPACK_IMPORTED_MODULE_2__.C6.color.white}:{}})),[args.isLight]),{forceUpdate}=(0,_src__WEBPACK_IMPORTED_MODULE_2__.NW)();return(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((()=>{forceUpdate()}),[forceUpdate]),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.Fragment,{children:[withNewWindowButton&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(NewWindowButtonBox,{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_src__WEBPACK_IMPORTED_MODULE_2__.zx,{accent:_src__WEBPACK_IMPORTED_MODULE_2__.Le.SECONDARY,onClick:()=>setIsNewWindowOpen(!0),size:_src__WEBPACK_IMPORTED_MODULE_2__.$u.SMALL,children:"OPEN IN NEW WINDOW"})}),!isNewWindowOpen&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(StoryBox,{style,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(Story,{})}),withNewWindowButton&&isNewWindowOpen&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_src__WEBPACK_IMPORTED_MODULE_2__.YO,{features:{height:600,width:800},onUnload:()=>setIsNewWindowOpen(!1),children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(NewWindowStoryWrapper,{ref:newWindowRef,Story,storyArgs:args})})]})}}function NewWindowStoryWrapperWithRef({Story,storyArgs},ref){const wrapperRef=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null),[isFirstRender,setIsFirstRender]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(!0);(0,react__WEBPACK_IMPORTED_MODULE_0__.useImperativeHandle)(ref,(()=>wrapperRef.current));const newWindowContextProviderValue=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((()=>({newWindowContainerRef:wrapperRef.current?wrapperRef:{current:window.document.createElement("div")}})),[isFirstRender]);return(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((()=>{setIsFirstRender(!1)}),[]),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(NewWindowStoryBox,{ref:wrapperRef,children:!isFirstRender&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_src__WEBPACK_IMPORTED_MODULE_2__.xo.Provider,{value:newWindowContextProviderValue,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_GlobalDecorator__WEBPACK_IMPORTED_MODULE_1__.yw,{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(NewWindowStory,{Story,storyArgs})})})})}NewWindowStoryWrapperWithRef.displayName="NewWindowStoryWrapperWithRef";const NewWindowStoryWrapper=(0,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)(NewWindowStoryWrapperWithRef);function NewWindowStory({Story,storyArgs}){const{newWindowContainerRef}=(0,_src__WEBPACK_IMPORTED_MODULE_2__.dG)();return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(Story,{args:{...storyArgs,baseContainer:newWindowContainerRef.current}})}NewWindowStory.displayName="NewWindowStory";const StoryBox=styled_components__WEBPACK_IMPORTED_MODULE_4__.ZP.div`
  height: 100%;
  padding: 16px;
  width: 100%;
`,NewWindowButtonBox=styled_components__WEBPACK_IMPORTED_MODULE_4__.ZP.div`
  position: fixed;
  right: 16px;
  top: 16px;
`,NewWindowStoryBox=styled_components__WEBPACK_IMPORTED_MODULE_4__.ZP.div`
  height: 100%;
  padding: 16px;
  width: 100%;
`;try{generateStoryDecorator.displayName="generateStoryDecorator",generateStoryDecorator.__docgenInfo={description:"",displayName:"generateStoryDecorator",props:{fixedWidth:{defaultValue:null,description:"",name:"fixedWidth",required:!1,type:{name:"number"}},hasDarkMode:{defaultValue:{value:"false"},description:"",name:"hasDarkMode",required:!1,type:{name:"boolean"}},withNewWindowButton:{defaultValue:{value:"false"},description:"",name:"withNewWindowButton",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES[".storybook/components/StoryDecorator.tsx#generateStoryDecorator"]={docgenInfo:generateStoryDecorator.__docgenInfo,name:"generateStoryDecorator",path:".storybook/components/StoryDecorator.tsx#generateStoryDecorator"})}catch(__react_docgen_typescript_loader_error){}},"./stories/tables/TableWithSelectableRows.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{_TableWithSelectableRows:()=>_TableWithSelectableRows,__namedExportsOrder:()=>__namedExportsOrder,default:()=>__WEBPACK_DEFAULT_EXPORT__});var _tanstack_react_table__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/@tanstack/react-table/build/lib/index.mjs"),_tanstack_react_table__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/@tanstack/table-core/build/lib/index.mjs"),_tanstack_react_virtual__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/@tanstack/react-virtual/build/lib/index.mjs"),react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),styled_components__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./node_modules/styled-components/dist/styled-components.browser.esm.js"),_storybook_components_StoryDecorator__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./.storybook/components/StoryDecorator.tsx"),_src__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/index.ts"),_src_icons__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/icons/index.tsx"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/react/jsx-runtime.js");const data=[...Array(100).fill({id:4,reportingId:2300004,sourceType:"SEMAPHORE",semaphoreId:33,controlUnitId:null,sourceName:null,displayedSource:"Sémaphore de Boulogne sur mer",targetType:null,vehicleType:null,targetDetails:[],geom:{type:"MultiPolygon",coordinates:[[[[-19.00097037,49.57813235],[-14.5054498,50.48083701],[-14.25087621,49.53018118],[-19.00097037,49.57813235]]]]},seaFront:"MED",description:null,reportType:"INFRACTION_SUSPICION",theme:null,subThemes:[],actionTaken:null,isInfractionProven:!1,isControlRequired:!1,isUnitAvailable:null,createdAt:"2023-08-04T15:13:43.296Z",validityTime:1,isArchived:!1}),...Array(100).fill({id:1,reportingId:2300001,sourceType:"SEMAPHORE",semaphoreId:21,controlUnitId:null,sourceName:null,displayedSource:"SEMAPHORE LE TOULINGUET",targetType:"VEHICLE",vehicleType:"VESSEL",targetDetails:[{mmsi:"012314231343",imo:null,externalReferenceNumber:null,vesselName:"Vessel 1",operatorName:null,size:null}],geom:{type:"MultiPoint",coordinates:[[-4.93888188,48.41495669]]},seaFront:"NAMO",description:"Description 1",reportType:"OBSERVATION",theme:"Rejets illicites",subThemes:["Jet de déchet","Carénage sauvage"],actionTaken:"ACTION TAKEN",isInfractionProven:!0,isControlRequired:!0,isUnitAvailable:!0,createdAt:"2023-08-01T15:13:01.073587Z",validityTime:24,isArchived:!0})],__WEBPACK_DEFAULT_EXPORT__={title:"Tables/TableWithSelectableRows",decorators:[(0,_storybook_components_StoryDecorator__WEBPACK_IMPORTED_MODULE_1__.N)()]},ButtonsGroupRow=({id,onSelect})=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(ButtonsGroup,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_src__WEBPACK_IMPORTED_MODULE_2__.hU,{accent:_src__WEBPACK_IMPORTED_MODULE_2__.Le.TERTIARY,Icon:_src__WEBPACK_IMPORTED_MODULE_2__.JO.Duplicate,onClick:()=>console.log(id)}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_src__WEBPACK_IMPORTED_MODULE_2__.hU,{accent:_src__WEBPACK_IMPORTED_MODULE_2__.Le.TERTIARY,Icon:_src__WEBPACK_IMPORTED_MODULE_2__.JO.Edit,onClick:()=>console.log(id)}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(_src__WEBPACK_IMPORTED_MODULE_2__.Lt,{accent:_src__WEBPACK_IMPORTED_MODULE_2__.Le.SECONDARY,Icon:_src__WEBPACK_IMPORTED_MODULE_2__.JO.More,onSelect,children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_src__WEBPACK_IMPORTED_MODULE_2__.Lt.Item,{accent:_src__WEBPACK_IMPORTED_MODULE_2__.Le.SECONDARY,eventKey:"ARCHIVE",Icon:_src__WEBPACK_IMPORTED_MODULE_2__.JO.Archive}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_src__WEBPACK_IMPORTED_MODULE_2__.Lt.Item,{accent:_src__WEBPACK_IMPORTED_MODULE_2__.Le.SECONDARY,eventKey:"DELETE",Icon:_src__WEBPACK_IMPORTED_MODULE_2__.JO.Delete})]})]});function _TableWithSelectableRows(){const[rowSelection,setRowSelection]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)({}),[sorting,setSorting]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)([{id:"createdAt",desc:!1}]),columns=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((()=>[{id:"select",size:25,enableSorting:!1,accessorFn:row=>row.reportingId,header:({table})=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_src__WEBPACK_IMPORTED_MODULE_2__.P$.RowCheckbox,{isChecked:table.getIsAllRowsSelected(),isIndeterminate:table.getIsSomeRowsSelected(),onChange:table.getToggleAllRowsSelectedHandler()}),cell:({row})=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_src__WEBPACK_IMPORTED_MODULE_2__.P$.RowCheckbox,{disabled:!row.getCanSelect(),isChecked:row.getIsSelected(),onChange:row.getToggleSelectedHandler(row)})},{accessorFn:row=>row.reportingId,cell:info=>info.getValue(),enableSorting:!1,header:()=>"",id:"reportingId",size:80},{accessorFn:row=>row.createdAt,cell:info=>info.getValue(),enableSorting:!0,header:()=>"Ouverture",id:"createdAt",size:105},{accessorFn:row=>row.validityTime,cell:info=>info.getValue(),enableSorting:!0,header:()=>"Fin dans",id:"validityTime",size:75},{accessorFn:row=>row.displayedSource,cell:info=>info.getValue(),enableSorting:!0,header:()=>"Source",id:"displayedSource",size:180},{accessorFn:row=>row.reportType,cell:info=>info.getValue(),enableSorting:!0,header:()=>"Type",id:"reportType",size:120},{accessorFn:row=>row,cell:({row})=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("span",{children:[row.original.theme,": ",row.original.subThemes?row.original.subThemes.join(", "):""]}),enableSorting:!0,header:()=>"Thématique",id:"theme",size:165},{accessorFn:row=>row.seaFront,cell:info=>info.getValue(),enableSorting:!0,header:()=>"Façade",id:"seaFront",size:90},{accessorFn:row=>row.status,cell:info=>info.getValue(),enableSorting:!0,header:()=>"Statut",id:"isArchived",size:70},{accessorFn:row=>row.missionId,cell:()=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_src__WEBPACK_IMPORTED_MODULE_2__.Vp,{backgroundColor:_src__WEBPACK_IMPORTED_MODULE_2__.C6.color.mediumSeaGreen,color:_src__WEBPACK_IMPORTED_MODULE_2__.C6.color.white,Icon:_src_icons__WEBPACK_IMPORTED_MODULE_3__.Link,children:"Mission"}),enableSorting:!1,header:()=>"",id:"missionId",size:85},{accessorFn:row=>row.geom,cell:()=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_src__WEBPACK_IMPORTED_MODULE_2__.Vp,{backgroundColor:_src__WEBPACK_IMPORTED_MODULE_2__.C6.color.gainsboro,iconColor:_src__WEBPACK_IMPORTED_MODULE_2__.C6.color.goldenPoppy,withBullet:!0,children:"Ctl fait"}),enableSorting:!1,header:()=>"",id:"actionStatus",size:85},{accessorFn:row=>row.geom,cell:info=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_src__WEBPACK_IMPORTED_MODULE_2__.hU,{accent:_src__WEBPACK_IMPORTED_MODULE_2__.Le.TERTIARY,Icon:_src__WEBPACK_IMPORTED_MODULE_2__.JO.FocusZones,onClick:()=>console.log(info.getValue())}),enableSorting:!1,header:()=>"",id:"geom",size:55},{accessorFn:row=>row.id,cell:info=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(ButtonsGroupRow,{id:info.getValue(),onSelect:key=>((key,id)=>{"ARCHIVE"===key?console.log("we want to archive the reporting with id: ",id):console.log("we want to delete the reporting with id: ",id)})(key,info.getValue())}),enableSorting:!1,header:()=>"",id:"id",size:120}]),[]),table=(0,_tanstack_react_table__WEBPACK_IMPORTED_MODULE_5__.b7)({columns,data,state:{sorting,rowSelection},enableRowSelection:!0,enableSortingRemoval:!1,enableColumnResizing:!1,onRowSelectionChange:rowId=>{setRowSelection(rowId)},onSortingChange:setSorting,getCoreRowModel:(0,_tanstack_react_table__WEBPACK_IMPORTED_MODULE_6__.sC)(),getSortedRowModel:(0,_tanstack_react_table__WEBPACK_IMPORTED_MODULE_6__.tj)()}),selectedIds=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((()=>table.getSelectedRowModel().rows.map((({original})=>original.id))),[rowSelection]),tableContainerRef=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null),{rows}=table.getRowModel(),rowVirtualizer=(0,_tanstack_react_virtual__WEBPACK_IMPORTED_MODULE_7__.MG)({count:rows.length,getScrollElement:()=>tableContainerRef.current,estimateSize:()=>10,overscan:10,getItemKey:(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((index=>`${rows[index]?.id}`),[rows])}),virtualRows=rowVirtualizer.getVirtualItems(),[paddingTop,paddingBottom]=virtualRows.length>0?[Math.max(0,virtualRows[0]?.start||0),Math.max(0,rowVirtualizer.getTotalSize()-(virtualRows[virtualRows.length-1]?.end||0))]:[0,0];return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.Fragment,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("div",{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_src__WEBPACK_IMPORTED_MODULE_2__.hU,{accent:_src__WEBPACK_IMPORTED_MODULE_2__.Le.SECONDARY,Icon:_src__WEBPACK_IMPORTED_MODULE_2__.JO.Archive,onClick:()=>{console.log("this reportings will be archived: ",selectedIds)}})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("div",{ref:tableContainerRef,style:{width:1776},children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(_src__WEBPACK_IMPORTED_MODULE_2__.P$.Table,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_src__WEBPACK_IMPORTED_MODULE_2__.P$.Head,{children:table.getHeaderGroups().map((headerGroup=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("tr",{children:headerGroup.headers.map((header=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_src__WEBPACK_IMPORTED_MODULE_2__.P$.Th,{$width:header.column.getSize(),children:header.isPlaceholder?void 0:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(_src__WEBPACK_IMPORTED_MODULE_2__.P$.SortContainer,{className:header.column.getCanSort()?"cursor-pointer":"",onClick:header.column.getToggleSortingHandler(),children:[(0,_tanstack_react_table__WEBPACK_IMPORTED_MODULE_5__.ie)(header.column.columnDef.header,header.getContext()),header.column.getCanSort()&&({asc:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("div",{children:"▲"}),desc:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("div",{children:"▼"})}[header.column.getIsSorted()]??(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_src__WEBPACK_IMPORTED_MODULE_2__.JO.SortingArrows,{size:14}))]})},header.id)))},headerGroup.id)))}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("tbody",{children:[paddingTop>0&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("tr",{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("td",{style:{height:`${paddingTop}px`}})}),virtualRows.map(((virtualRow,index)=>{const row=rows[virtualRow.index];return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_src__WEBPACK_IMPORTED_MODULE_2__.P$.BodyTr,{$isHighlighted:index%2==0,children:row?.getVisibleCells().map((cell=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_src__WEBPACK_IMPORTED_MODULE_2__.P$.Td,{$hasRightBorder:!("geom"!==cell.column.id),$isCenter:!("geom"!==cell.column.id&&"id"!==cell.column.id),$isHighlighted:index%2==0,$width:cell.column.getSize(),children:(0,_tanstack_react_table__WEBPACK_IMPORTED_MODULE_5__.ie)(cell.column.columnDef.cell,cell.getContext())},cell.id)))},virtualRow.key)})),paddingBottom>0&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("tr",{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("td",{style:{height:`${paddingBottom}px`}})})]})]})})]})}ButtonsGroupRow.displayName="ButtonsGroupRow";const ButtonsGroup=styled_components__WEBPACK_IMPORTED_MODULE_8__.ZP.div`
  display: flex;
  flex-direction: row;
  gap: 8px;
  position: relative;
  > button {
    padding: 0px;
  }
`;_TableWithSelectableRows.parameters={..._TableWithSelectableRows.parameters,docs:{..._TableWithSelectableRows.parameters?.docs,source:{originalSource:"function _TableWithSelectableRows() {\n  const [rowSelection, setRowSelection] = useState({});\n  const [sorting, setSorting] = useState<SortingState>([{\n    id: 'createdAt',\n    desc: false\n  }]);\n  const doAction = (key, id) => {\n    if (key === 'ARCHIVE') {\n      console.log('we want to archive the reporting with id: ', id);\n    } else {\n      console.log('we want to delete the reporting with id: ', id);\n    }\n  };\n  const columns = useMemo(() => [{\n    id: 'select',\n    size: 25,\n    enableSorting: false,\n    accessorFn: row => row.reportingId,\n    header: ({\n      table\n    }) => <TableWithSelectableRows.RowCheckbox isChecked={table.getIsAllRowsSelected()} isIndeterminate={table.getIsSomeRowsSelected()} onChange={table.getToggleAllRowsSelectedHandler()} />,\n    cell: ({\n      row\n    }) => <TableWithSelectableRows.RowCheckbox disabled={!row.getCanSelect()} isChecked={row.getIsSelected()} onChange={row.getToggleSelectedHandler(row)} />\n  }, {\n    accessorFn: row => row.reportingId,\n    cell: info => info.getValue(),\n    enableSorting: false,\n    header: () => '',\n    id: 'reportingId',\n    size: 80\n  }, {\n    accessorFn: row => row.createdAt,\n    cell: info => info.getValue(),\n    enableSorting: true,\n    header: () => 'Ouverture',\n    id: 'createdAt',\n    size: 105\n  }, {\n    accessorFn: row => row.validityTime,\n    cell: info => info.getValue(),\n    enableSorting: true,\n    header: () => 'Fin dans',\n    id: 'validityTime',\n    size: 75\n  }, {\n    accessorFn: row => row.displayedSource,\n    cell: info => info.getValue(),\n    enableSorting: true,\n    header: () => 'Source',\n    id: 'displayedSource',\n    size: 180\n  }, {\n    accessorFn: row => row.reportType,\n    cell: info => info.getValue(),\n    enableSorting: true,\n    header: () => 'Type',\n    id: 'reportType',\n    size: 120\n  }, {\n    accessorFn: row => row,\n    cell: ({\n      row\n    }) => <span>\n            {row.original.theme}: {row.original.subThemes ? row.original.subThemes.join(', ') : ''}\n          </span>,\n    enableSorting: true,\n    header: () => 'Thématique',\n    id: 'theme',\n    size: 165\n  }, {\n    accessorFn: row => row.seaFront,\n    cell: info => info.getValue(),\n    enableSorting: true,\n    header: () => 'Façade',\n    id: 'seaFront',\n    size: 90\n  }, {\n    accessorFn: row => row.status,\n    cell: info => info.getValue(),\n    enableSorting: true,\n    header: () => 'Statut',\n    id: 'isArchived',\n    size: 70\n  }, {\n    accessorFn: row => row.missionId,\n    cell: () => <Tag backgroundColor={THEME.color.mediumSeaGreen} color={THEME.color.white} Icon={Link}>\n            Mission\n          </Tag>,\n    enableSorting: false,\n    header: () => '',\n    id: 'missionId',\n    size: 85\n  }, {\n    accessorFn: row => row.geom,\n    cell: () => <Tag backgroundColor={THEME.color.gainsboro} iconColor={THEME.color.goldenPoppy} withBullet>\n            Ctl fait\n          </Tag>,\n    enableSorting: false,\n    header: () => '',\n    id: 'actionStatus',\n    size: 85\n  }, {\n    accessorFn: row => row.geom,\n    cell: info => <IconButton accent={Accent.TERTIARY} Icon={Icon.FocusZones} onClick={() => console.log(info.getValue())} />,\n    enableSorting: false,\n    header: () => '',\n    id: 'geom',\n    size: 55\n  }, {\n    accessorFn: row => row.id,\n    cell: info => <ButtonsGroupRow id={info.getValue()} onSelect={key => doAction(key, info.getValue())} />,\n    enableSorting: false,\n    header: () => '',\n    id: 'id',\n    size: 120\n  }], []);\n  const table = useReactTable({\n    columns,\n    data,\n    state: {\n      sorting,\n      rowSelection\n    },\n    enableRowSelection: true,\n    enableSortingRemoval: false,\n    enableColumnResizing: false,\n    onRowSelectionChange: rowId => {\n      setRowSelection(rowId);\n    },\n    onSortingChange: setSorting,\n    getCoreRowModel: getCoreRowModel(),\n    getSortedRowModel: getSortedRowModel()\n  });\n  const selectedIds = useMemo(() => table.getSelectedRowModel().rows.map(({\n    original\n  }) => original.id),\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  [rowSelection]);\n\n  // eslint-disable-next-line no-null/no-null\n  const tableContainerRef = useRef<HTMLDivElement>(null);\n  const {\n    rows\n  } = table.getRowModel();\n  const rowVirtualizer = useVirtualizer({\n    count: rows.length,\n    getScrollElement: () => tableContainerRef.current,\n    estimateSize: () => 10,\n    overscan: 10,\n    // Pass correct keys to virtualizer it's important when rows change position\n    getItemKey: useCallback((index: number) => `${rows[index]?.id}`, [rows])\n  });\n  const virtualRows = rowVirtualizer.getVirtualItems();\n  const [paddingTop, paddingBottom] = virtualRows.length > 0 ? [Math.max(0, virtualRows[0]?.start || 0), Math.max(0, rowVirtualizer.getTotalSize() - (virtualRows[virtualRows.length - 1]?.end || 0))] : [0, 0];\n  const archiveReportings = () => {\n    // eslint-disable-next-line no-console\n    console.log('this reportings will be archived: ', selectedIds);\n  };\n  return <>\n      <div>\n        <IconButton accent={Accent.SECONDARY} Icon={Icon.Archive} onClick={archiveReportings} />\n      </div>\n      <div ref={tableContainerRef} style={{\n      width: 1776\n    }}>\n        <TableWithSelectableRows.Table>\n          <TableWithSelectableRows.Head>\n            {table.getHeaderGroups().map(headerGroup => <tr key={headerGroup.id}>\n                {headerGroup.headers.map(header => <TableWithSelectableRows.Th key={header.id} $width={header.column.getSize()}>\n                    {header.isPlaceholder ? undefined : <TableWithSelectableRows.SortContainer className={header.column.getCanSort() ? 'cursor-pointer' : ''} onClick={header.column.getToggleSortingHandler()}>\n                        {flexRender(header.column.columnDef.header, header.getContext())}\n                        {header.column.getCanSort() && ({\n                  asc: <div>▲</div>,\n                  desc: <div>▼</div>\n                }[(header.column.getIsSorted() as string)] ?? <Icon.SortingArrows size={14} />)}\n                      </TableWithSelectableRows.SortContainer>}\n                  </TableWithSelectableRows.Th>)}\n              </tr>)}\n          </TableWithSelectableRows.Head>\n          <tbody>\n            {paddingTop > 0 && <tr>\n                <td style={{\n              height: `${paddingTop}px`\n            }} />\n              </tr>}\n            {virtualRows.map((virtualRow, index) => {\n            const row = rows[virtualRow.index];\n            return <TableWithSelectableRows.BodyTr key={virtualRow.key} $isHighlighted={index % 2 === 0}>\n                  {row?.getVisibleCells().map(cell => <TableWithSelectableRows.Td key={cell.id} $hasRightBorder={!!(cell.column.id === 'geom')} $isCenter={!!(cell.column.id === 'geom' || cell.column.id === 'id')} $isHighlighted={index % 2 === 0} $width={cell.column.getSize()}>\n                      {flexRender(cell.column.columnDef.cell, cell.getContext())}\n                    </TableWithSelectableRows.Td>)}\n                </TableWithSelectableRows.BodyTr>;\n          })}\n            {paddingBottom > 0 && <tr>\n                <td style={{\n              height: `${paddingBottom}px`\n            }} />\n              </tr>}\n          </tbody>\n        </TableWithSelectableRows.Table>\n      </div>\n    </>;\n}",..._TableWithSelectableRows.parameters?.docs?.source}}};const __namedExportsOrder=["_TableWithSelectableRows"]}}]);
//# sourceMappingURL=tables-TableWithSelectableRows-stories.d03a9788.iframe.bundle.js.map